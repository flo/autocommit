<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
	<extension-point id="de.fkoeberle.autocommit.vcs" name="Version Control System For Automatic Commits" schema="schema/de.fkoeberle.autocommit.vcs.exsd"/>
	<extension
		point="org.eclipse.ui.popupMenus">
		<objectContribution
			adaptable="true"
			id="org.eclipse.ui.articles.action.contribution.popup.object"
			objectClass="org.eclipse.core.resources.IProject">
			<menu
				id="de.fkoeberle.autocommit"
				label="Automatic Commits"
				path="team.main/group1">
				<separator
				name="group1">
				</separator>
				<separator
				name="group2">
				</separator>
			</menu>
		</objectContribution>
		<objectContribution
			adaptable="true"
			id="org.eclipse.ui.articles.action.contribution.popup.object"
			objectClass="org.eclipse.core.resources.IProject">
			<action
				class="de.fkoeberle.autocommit.EnableAutomaticCommitsAction"
				id="de.fkoeberle.autocommit.enable"
				label="Enable"
				menubarPath="team.main/de.fkoeberle.autocommit/group1"> 
			</action>
			<visibility>
				<not>
					<objectState name="projectNature" value="de.fkoeberle.autocommit.nature"></objectState>
				</not>
			</visibility>
		</objectContribution>
		<objectContribution
			adaptable="true"
			id="org.eclipse.ui.articles.action.contribution.popup.object"
			objectClass="org.eclipse.core.resources.IProject">
			<action
				class="de.fkoeberle.autocommit.DisableAutomaticCommitsAction"
				id="de.fkoeberle.autocommit.disable"
				label="Disable"
				menubarPath="team.main/de.fkoeberle.autocommit/group1"> 
			</action>
			<visibility>
				<objectState name="projectNature" value="de.fkoeberle.autocommit.nature"></objectState>
			</visibility>
		</objectContribution> 
	</extension>
   
   <extension id="nature" name="Automatic Commits" point="org.eclipse.core.resources.natures">
      <runtime>
         <run class="de.fkoeberle.autocommit.Nature">
         </run>
      </runtime>
	</extension>
	
	<extension point="org.eclipse.ui.decorators">
		<decorator
			id="de.fkoeberle.autocommit"
			label="Enabled State of 'Autocommit' Feature"
			state="true"
			class= "de.fkoeberle.autocommit.AutocommitIconDecorator"
			adaptable="true">
			<description>
			Marks projects which have the &quot;autocommit&quot;-feature enabled with &quot;a&quot; icon at the top left.
			</description>
		</decorator>
	</extension>
</plugin>
